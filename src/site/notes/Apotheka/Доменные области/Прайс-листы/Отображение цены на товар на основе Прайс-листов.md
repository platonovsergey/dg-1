---
{"dg-publish":true,"permalink":"/apotheka/domennye-oblasti/prajs-listy/otobrazhenie-czeny-na-tovar-na-osnove-prajs-listov/"}
---


## Краткое описание

![Pasted image 20240111183849.png|350](/img/user/Apotheka/%D0%A4%D0%B0%D0%B9%D0%BB%D1%8B/Pasted%20image%2020240111183849.png)

На основе [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы\|Прайс-листов]] пользователю на сайте в Каталоге (и тому подобных страницах) отображается цена (стоимость) товара. Пользователю отображается первоначальная цена (белый ценник) и цена с учётом скидки (жёлтый ценник). 

Цена с учётом скидки отображается Пользователю, если этот товар указан хотя бы в одном [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листе "Новая цена"]].

## Требования

### Функциональные требования

- Система должна отображать цену на товар на основе заведённых [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#Определения\|Прайс-листов]] в Системе.

- Если цена (стоимость) на товар указана только в [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^8b52b7\|Прайс-листе "По-умолчанию"]], то Система должна отображать только первоначальную цену (белый ценник).

- Если цена (стоимость) на товар указана в [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листе "Новая цена"]], то Система должна отображать первоначальную цену (белый ценник) и цену с учётом скидки (жёлтый ценник).

- Если цена (стоимость) на товар указана в нескольких [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листах "Новая цена"]], то Система должна отображать цену с учётом скидки (жёлтый ценник) из того [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листа "Новая цена"]], у которого выше всего приоритет (более подробно см. [[Apotheka/Доменные области/Прайс-листы/Приоритизация Прайс-листов\|приоритизация Прайс-листов]]).

- Система должна отображать, что товара нет в наличии, если цена на товар не указана ни в одном [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#Определения\|Прайс-листе]].

- Система должна отображать, что товара нет в наличии, если срок действия всех [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#Определения\|Прайс-листов]], где указан товар, истёк или не действителен. 
	- Срок действия считается не действительным, если сегодня 1 января 2024 г., а дата начала действия [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#Определения\|Прайс-листа]] 10 января 2024 г.

- Система не должна отображать цену с учётом скидки (жёлтый ценник), если срок действия [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листа "Новая цена"]] истёк.

- Система не должна отображать цену с учётом скидки (жёлтый ценник), если признак активности [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^7aa637\|Прайс-листа "Новая цена"]] является "не активен".

- Если срок действия (дата начала **!И** дата окончания) [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#Определения\|Прайс-листа]] не указан, то Система должна считать срок действия бесконечным.

### Ограничения

- В Системе должен быть только один [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^8b52b7\|Прайс-листе "По-умолчанию"]].

- В Системе для [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^8b52b7\|Прайс-листа "По-умолчанию"]] срок действия всегда бесконечный.

- В Системе для [[Apotheka/Доменные области/Прайс-листы/_Прайс-листы#^8b52b7\|Прайс-листа "По-умолчанию"]] признак активности **НЕЛЬЗЯ** устанавливать как "не активен". 

- В Системе для прайс-листов "Новая цена" для приоритетов зарезервированы значения: \[ от 0 до 2 147 483 646 \].

- В Системе значение приоритета = 2 147 483 647 зарезервировано для прайс-листа "По-умолчанию". Это значение запрещено Системой использовать для прайс-листов "Новая цена".
